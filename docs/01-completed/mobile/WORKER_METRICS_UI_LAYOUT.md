# Worker Detail Screen - New Metrics UI Layout

## ğŸ“± Screen Layout (Updated)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â† Back              Worker Detail      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                         â”‚
â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚         â”‚   Profile Photo   â”‚           â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚                                         â”‚
â”‚        Vaniel Cornelio                  â”‚
â”‚        â­ 4.5 (12 reviews)               â”‚
â”‚        ğŸ“ Marikina, Metro Manila        â”‚
â”‚                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”          â”‚
â”‚  â”‚  ğŸ’¼  â”‚  â”‚  â±ï¸  â”‚  â”‚  ğŸ’µ  â”‚          â”‚
â”‚  â”‚  28  â”‚  â”‚  2h  â”‚  â”‚ â‚±500 â”‚          â”‚
â”‚  â”‚ Jobs â”‚  â”‚ Time â”‚  â”‚ /hr  â”‚          â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                         â”‚
â”‚  â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—  â”‚
â”‚  â•‘ âœ… NEW: Completion Rate Card     â•‘  â”‚
â”‚  â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£  â”‚
â”‚  â•‘                                   â•‘  â”‚
â”‚  â•‘  âœ“  93.3%                         â•‘  â”‚
â”‚  â•‘     Job Completion Rate           â•‘  â”‚
â”‚  â•‘                                   â•‘  â”‚
â”‚  â•‘  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘ 93%      â•‘  â”‚
â”‚  â•‘  â–² Green progress bar             â•‘  â”‚
â”‚  â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•  â”‚
â”‚                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                         â”‚
â”‚  â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—  â”‚
â”‚  â•‘ â­ NEW: Performance Ratings       â•‘  â”‚
â”‚  â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£  â”‚
â”‚  â•‘                                   â•‘  â”‚
â”‚  â•‘  Quality          â­â­â­â­â­  4.7   â•‘  â”‚
â”‚  â•‘                                   â•‘  â”‚
â”‚  â•‘  Communication    â­â­â­â­â­  4.4   â•‘  â”‚
â”‚  â•‘                                   â•‘  â”‚
â”‚  â•‘  Professionalism  â­â­â­â­â­  4.8   â•‘  â”‚
â”‚  â•‘                                   â•‘  â”‚
â”‚  â•‘  Timeliness       â­â­â­â­â˜†  4.2   â•‘  â”‚
â”‚  â•‘                                   â•‘  â”‚
â”‚  â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•  â”‚
â”‚                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                         â”‚
â”‚  Specializations                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚  â”‚ ğŸ”¨ Plumb â”‚ â”‚ ğŸ”¨ Elect â”‚              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚                                         â”‚
â”‚  About                                  â”‚
â”‚  Professional plumber with 5 years...   â”‚
â”‚                                         â”‚
â”‚  Skills                                 â”‚
â”‚  [Pipe Repair] [Installation] ...      â”‚
â”‚                                         â”‚
â”‚  ğŸ“œ Certifications (3)                  â”‚
â”‚  ... (existing implementation)          â”‚
â”‚                                         â”‚
â”‚  ğŸ§° Materials & Products (4)            â”‚
â”‚  ... (existing implementation)          â”‚
â”‚                                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [ ğŸ’¬ Message ]  [ âœ“ Hire Worker ]      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¨ Visual Component Breakdown

### 1. Completion Rate Card (NEW)

**Before Stats Section**:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Job Completion Statistics              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                         â”‚
â”‚  âœ“   93.3%                              â”‚ â† Large, bold number
â”‚      Job Completion Rate                â”‚ â† Gray label
â”‚                                         â”‚
â”‚  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘                â”‚ â† Progress bar
â”‚  â–² Color: Green (â‰¥90%)                  â”‚
â”‚                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Color Logic**:

- **Green** (â‰¥90%): Excellent reliability
- **Yellow** (70-89%): Good reliability
- **Red** (<70%): Needs improvement

**Icon**: `checkmark-circle` (Ionicons)

---

### 2. Performance Ratings Section (NEW)

**Only shows if worker has reviews (`reviewCount > 0`)**:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Performance Ratings                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                         â”‚
â”‚  Quality              â­â­â­â­â­  4.7    â”‚
â”‚  â–² Left aligned       â–² Right aligned   â”‚
â”‚                                         â”‚
â”‚  Communication        â­â­â­â­â­  4.4    â”‚
â”‚                                         â”‚
â”‚  Professionalism      â­â­â­â­â­  4.8    â”‚
â”‚                                         â”‚
â”‚  Timeliness           â­â­â­â­â˜†  4.2    â”‚
â”‚                       â–² 4 filled +      â”‚
â”‚                         1 outline       â”‚
â”‚                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Layout Details**:

- **Label**: Left-aligned, 14px font, medium weight
- **Stars**: 5 icons, 16px each, 4px gap
  - Filled: `star` icon, yellow color
  - Outline: `star-outline` icon, gray color
- **Value**: Numeric rating to 1 decimal, 14px font, bold

**Star Rendering Logic**:

```typescript
// Round rating to nearest integer for star display
const filledStars = Math.round(4.7); // 5 stars
// Display: â­â­â­â­â­ 4.7

const filledStars = Math.round(4.2); // 4 stars
// Display: â­â­â­â­â˜† 4.2
```

---

## ğŸ“ Spacing & Layout

### Component Order (Top to Bottom):

1. Header (back button, title)
2. Profile Info (photo, name, rating, location)
3. **Stats Cards** (jobs, response time, hourly rate)
4. ğŸ†• **Completion Rate Card** â† NEW
5. ğŸ†• **Performance Ratings Section** â† NEW (if reviews exist)
6. Specializations
7. About/Bio
8. Skills
9. Certifications (with empty state)
10. Materials (with empty state)
11. Bottom Actions (message, hire)

### Margins:

- Section spacing: 16px between sections
- Card padding: 16px inside cards
- Gap between rating rows: 16px

---

## ğŸ¯ Conditional Rendering

### Completion Rate Card

- **Always shows** (uses 0.0 if no assigned jobs)
- Green/yellow/red color based on percentage

### Performance Ratings Section

```typescript
// Only render if worker has reviews
{data.reviewCount > 0 && (
  <View style={styles.section}>
    <Text style={styles.sectionTitle}>Performance Ratings</Text>
    {/* 4 rating rows */}
  </View>
)}
```

---

## ğŸ–¼ï¸ Color Scheme

### Completion Rate Colors:

```typescript
const iconColor =
  data.completionRate >= 90
    ? Colors.success // Green
    : data.completionRate >= 70
      ? Colors.warning // Yellow
      : Colors.error; // Red
```

### Star Colors:

- **Filled stars**: `Colors.warning` (yellow/gold)
- **Outline stars**: `Colors.textHint` (light gray)

### Text Colors:

- **Value text** (93.3%, 4.7): `Colors.textPrimary` (dark)
- **Label text**: `Colors.textSecondary` (medium gray)

---

## ğŸ“Š Data Flow

### Backend â†’ Frontend

**API Response**:

```json
{
  "completionRate": 93.3,
  "qualityRating": 4.7,
  "communicationRating": 4.4,
  "professionalismRating": 4.8,
  "timelinessRating": 4.2,
  "reviewCount": 12
}
```

**Frontend Rendering**:

```tsx
// Completion Rate
<Text>{data.completionRate.toFixed(1)}%</Text>
<View style={[styles.progressBar, { width: `${data.completionRate}%` }]} />

// Quality Rating
{[1, 2, 3, 4, 5].map((star) => (
  <Ionicons
    name={star <= Math.round(data.qualityRating) ? "star" : "star-outline"}
    color={star <= Math.round(data.qualityRating) ? Colors.warning : Colors.textHint}
  />
))}
<Text>{data.qualityRating.toFixed(1)}</Text>
```

---

## ğŸ§ª Visual Testing Scenarios

### Scenario 1: High-Performing Worker

```
Completion Rate: 95% (Green)
Quality: â­â­â­â­â­ 4.8
Communication: â­â­â­â­â­ 4.6
Professionalism: â­â­â­â­â­ 4.9
Timeliness: â­â­â­â­â­ 4.7
```

### Scenario 2: Moderate Worker

```
Completion Rate: 75% (Yellow)
Quality: â­â­â­â­â˜† 3.8
Communication: â­â­â­â­â˜† 3.6
Professionalism: â­â­â­â­â˜† 4.0
Timeliness: â­â­â­â˜†â˜† 3.4
```

### Scenario 3: Low-Performing Worker

```
Completion Rate: 45% (Red)
Quality: â­â­â­â˜†â˜† 2.8
Communication: â­â­â­â˜†â˜† 2.6
Professionalism: â­â­â­â˜†â˜† 3.0
Timeliness: â­â­â˜†â˜†â˜† 2.4
```

### Scenario 4: New Worker (No Reviews)

```
Completion Rate: 100% (Green) â† Still shows
Performance Ratings: [HIDDEN] â† reviewCount = 0
```

---

## âœ… Implementation Checklist

UI Components:

- [x] Completion Rate Card component
- [x] Performance Ratings Section component
- [x] Color-coded progress bar
- [x] Star rating display (filled/outline)
- [x] Conditional rendering (only if reviewCount > 0)

Styling:

- [x] Card styles (background, border, padding)
- [x] Typography (font sizes, weights)
- [x] Colors (success, warning, error, text)
- [x] Spacing (gaps, margins)
- [x] Progress bar styles

Data Handling:

- [x] TypeScript interface updated
- [x] API response parsing
- [x] Number formatting (toFixed(1))
- [x] Percentage calculation for progress bar

---

**Visual Design Complete** âœ…  
**Ready for Mobile App Testing** ğŸ“±
