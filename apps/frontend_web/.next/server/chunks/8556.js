exports.id=8556,exports.ids=[8556],exports.modules={1183:(a,b,c)=>{var d={"./BurstyRateLimiter":[97090,7],"./BurstyRateLimiter.js":[97090,7],"./ExpressBruteFlexible":[39388,7,9388],"./ExpressBruteFlexible.js":[39388,7,9388],"./RLWrapperBlackAndWhite":[71325,7],"./RLWrapperBlackAndWhite.js":[71325,7],"./RateLimiterAbstract":[79915,7],"./RateLimiterAbstract.js":[79915,7],"./RateLimiterCluster":[95039,7],"./RateLimiterCluster.js":[95039,7],"./RateLimiterDrizzle":[74307,7],"./RateLimiterDrizzle.js":[74307,7],"./RateLimiterDrizzleNonAtomic":[80321,7],"./RateLimiterDrizzleNonAtomic.js":[80321,7],"./RateLimiterDynamo":[73455,7],"./RateLimiterDynamo.js":[73455,7],"./RateLimiterEtcd":[67287,7],"./RateLimiterEtcd.js":[67287,7],"./RateLimiterEtcdNonAtomic":[60445,7],"./RateLimiterEtcdNonAtomic.js":[60445,7],"./RateLimiterMemcache":[29880,7],"./RateLimiterMemcache.js":[29880,7],"./RateLimiterMemory":[14490,7],"./RateLimiterMemory.js":[14490,7],"./RateLimiterMongo":[73929,7],"./RateLimiterMongo.js":[73929,7],"./RateLimiterMySQL":[4195,7],"./RateLimiterMySQL.js":[4195,7],"./RateLimiterPostgres":[17962,7],"./RateLimiterPostgres.js":[17962,7],"./RateLimiterPrisma":[84153,7],"./RateLimiterPrisma.js":[84153,7],"./RateLimiterQueue":[62986,7],"./RateLimiterQueue.js":[62986,7],"./RateLimiterRedis":[40902,7],"./RateLimiterRedis.js":[40902,7],"./RateLimiterRes":[46423,7],"./RateLimiterRes.js":[46423,7],"./RateLimiterSQLite":[70957,7],"./RateLimiterSQLite.js":[70957,7],"./RateLimiterStoreAbstract":[78950,7],"./RateLimiterStoreAbstract.js":[78950,7],"./RateLimiterUnion":[74038,7],"./RateLimiterUnion.js":[74038,7],"./RateLimiterValkey":[23011,7],"./RateLimiterValkey.js":[23011,7],"./RateLimiterValkeyGlide":[65534,7],"./RateLimiterValkeyGlide.js":[65534,7],"./component/BlockedKeys":[17284,7],"./component/BlockedKeys/":[17284,7],"./component/BlockedKeys/BlockedKeys":[67732,7],"./component/BlockedKeys/BlockedKeys.js":[67732,7],"./component/BlockedKeys/index":[17284,7],"./component/BlockedKeys/index.js":[17284,7],"./component/MemoryStorage":[76016,7,6016],"./component/MemoryStorage/":[76016,7,6016],"./component/MemoryStorage/MemoryStorage":[22568,7],"./component/MemoryStorage/MemoryStorage.js":[22568,7],"./component/MemoryStorage/Record":[11239,7],"./component/MemoryStorage/Record.js":[11239,7],"./component/MemoryStorage/index":[76016,7,6016],"./component/MemoryStorage/index.js":[76016,7,6016],"./component/RateLimiterEtcdTransactionFailedError":[41914,7],"./component/RateLimiterEtcdTransactionFailedError.js":[41914,7],"./component/RateLimiterQueueError":[67806,7],"./component/RateLimiterQueueError.js":[67806,7],"./component/RateLimiterSetupError":[52092,7],"./component/RateLimiterSetupError.js":[52092,7],"./component/index.d":[67643,1,7643],"./component/index.d.ts":[67643,1,7643],"./constants":[33074,7,3074],"./constants.js":[33074,7,3074],"./index.d":[3995,1,3995],"./index.d.ts":[3995,1,3995]};function e(a){if(!c.o(d,a))return Promise.resolve().then(()=>{var b=Error("Cannot find module '"+a+"'");throw b.code="MODULE_NOT_FOUND",b});var b=d[a],e=b[0];return Promise.all(b.slice(2).map(c.e)).then(()=>c.t(e,16|b[1]))}e.keys=()=>Object.keys(d),e.id=1183,a.exports=e},5321:(a,b,c)=>{"use strict";c.d(b,{x:()=>d});let d=new(c(39535)).RateLimiterMemory({points:3,duration:300})},13825:(a,b,c)=>{"use strict";c.d(b,{N:()=>l});var d=c(84906),e=c(15483),f=c(5486),g=c.n(f),h=c(5321),i=c(66555);let j=process.env.AUTH_GOOGLE_ID,k=process.env.AUTH_GOOGLE_SECRET,l={secret:process.env.NEXTAUTH_SECRET,session:{strategy:"jwt"},providers:[(0,d.A)({clientId:j,clientSecret:k}),(0,e.A)({credentials:{email:{},password:{}},authorize:async(a,b)=>{let c=a.password,d=b?.headers?.["x-client-ip"]||b?.body?.ip||"anonymous";try{await h.x.consume(d)}catch(a){throw Error(JSON.stringify({type:"rate-limit",msBeforeNext:a.msBeforeNext}))}let e=await i.z.accounts.findUnique({where:{email:a?.email},select:{email:!0,accountID:!0,password:!0,isVerified:!0,profile:{select:{firstName:!0,lastName:!0,profileType:!0}}}}),f=e?.profile??[];if(!e)throw Error("User not found");if(!e.isVerified)throw Error("Check email for verification Link and Verify Email first");if(!e.password)throw Error("This Account uses google login. Please sign in with google");if(await g().compare(c,e.password)){let a=f.find(a=>"CLIENT"===a.profileType),b=f.find(a=>"WORKER"===a.profileType);return{id:e.accountID.toString(),email:e.email,name:e.profile?.[0]?.firstName||"User",profileType:a?"CLIENT":b?"WORKER":null}}throw Error("Invalid password")}})],pages:{signIn:"/auth/login",error:"/auth/error"},callbacks:{redirect:async({baseUrl:a})=>`${a}/dashboard`,async jwt({token:a,user:b,account:c,trigger:d}){if(b&&(a.id=b.id,a.email=b.email,a.name=b.name,a.profileType=b.profileType||null),"update"===d||c?.provider==="google"&&!a.profileType)try{let b=await i.z.accounts.findUnique({where:{email:a.email},include:{profile:{select:{profileType:!0}}}}),c=b?.profile||[],d=c.find(a=>a.profileType&&""!==a.profileType);a.profileType=d?.profileType||c[0]?.profileType||null,console.log("Updated token profileType:",a.profileType)}catch(b){console.error("Error fetching profileType:",b),a.profileType=null}return a},session:async({session:a,token:b})=>(b&&a.user&&(a.user.id=b.id,a.user.email=b.email,a.user.name=b.name,a.user.profileType=b.profileType),a),async signIn({account:a,profile:b}){if(a?.provider==="google")try{if(!b?.email)return console.error("Google sign-in error: No email found from Google Account"),!1;let a=await i.z.accounts.upsert({where:{email:b.email},create:{email:b.email,password:null,isVerified:!0,status:"ACTIVE"},update:{isVerified:!0,status:"ACTIVE"}});await i.z.profile.upsert({where:{accountID_profileType:{accountID:a.accountID,profileType:""}},create:{accountID:a.accountID,firstName:b.given_name,lastName:b.family_name,contactNum:`google_${a.accountID}_${Date.now()}`,profileImg:b.picture,profileType:"",birthDate:new Date("1900-01-01")},update:{firstName:b.given_name,lastName:b.family_name||"",profileImg:b.picture}}),console.log("Google sign-in successful for:",b.email)}catch(a){return console.error("Google sign-in error:",a),!1}return!0}}}},21971:()=>{},22476:(a,b,c)=>{Promise.resolve().then(c.bind(c,91969)),Promise.resolve().then(c.bind(c,70474))},26076:(a,b,c)=>{"use strict";c.d(b,{ToastProvider:()=>e});var d=c(25459);let e=(0,d.registerClientReference)(function(){throw Error("Attempted to call ToastProvider() from the server but ToastProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\code\\iayos\\apps\\frontend_web\\components\\ui\\toast.tsx","ToastProvider");(0,d.registerClientReference)(function(){throw Error("Attempted to call useToast() from the server but useToast is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\code\\iayos\\apps\\frontend_web\\components\\ui\\toast.tsx","useToast"),(0,d.registerClientReference)(function(){throw Error("Attempted to call useAuthToast() from the server but useAuthToast is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\code\\iayos\\apps\\frontend_web\\components\\ui\\toast.tsx","useAuthToast")},46401:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,58671,23)),Promise.resolve().then(c.t.bind(c,56542,23)),Promise.resolve().then(c.t.bind(c,88248,23)),Promise.resolve().then(c.t.bind(c,49743,23)),Promise.resolve().then(c.t.bind(c,96231,23)),Promise.resolve().then(c.t.bind(c,10959,23)),Promise.resolve().then(c.t.bind(c,72041,23)),Promise.resolve().then(c.t.bind(c,95094,23)),Promise.resolve().then(c.t.bind(c,67487,23))},56035:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>o,metadata:()=>m,viewport:()=>n});var d=c(5939),e=c(63475),f=c.n(e),g=c(63559),h=c.n(g);c(21971);var i=c(92235),j=c(88952),k=c(13825),l=c(26076);let m={title:"iAyos",description:"The Marketplace for Everyday Help Platform for Blue-Collar Services",manifest:"/manifest.json"},n={themeColor:[{media:"(prefers-color-scheme: light)",color:"#ffffff"},{media:"(prefers-color-scheme: dark)",color:"#000000"}]};async function o({children:a}){let b=await (0,j.getServerSession)(k.N);return(0,d.jsxs)("html",{lang:"en",children:[(0,d.jsxs)("head",{children:[(0,d.jsx)("meta",{name:"apple-mobile-web-app-capable",content:"yes"}),(0,d.jsx)("meta",{name:"apple-mobile-web-app-status-bar-style",content:"default"}),(0,d.jsx)("meta",{name:"apple-mobile-web-app-title",content:"iAyos"}),(0,d.jsx)("meta",{name:"mobile-web-app-capable",content:"yes"}),(0,d.jsx)("link",{rel:"apple-touch-icon",href:"/icons/logo.png"})]}),(0,d.jsx)("body",{className:`${f().variable} ${h().variable} antialiased`,children:(0,d.jsx)(l.ToastProvider,{children:(0,d.jsx)(i.Providers,{session:b,children:a})})})]})}},58924:(a,b,c)=>{Promise.resolve().then(c.bind(c,92235)),Promise.resolve().then(c.bind(c,26076))},70196:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>e});var d=c(43560);let e=async a=>[{type:"image/x-icon",sizes:"16x16",url:(0,d.fillMetadataSegment)(".",await a.params,"favicon.ico")+""}]},70474:(a,b,c)=>{"use strict";c.d(b,{ToastProvider:()=>h,f:()=>k});var d=c(78157),e=c(31768),f=c.n(e);let g=f().createContext(void 0);function h({children:a}){let[b,c]=(0,e.useState)([]),f=(0,e.useCallback)(a=>{c(b=>b.filter(b=>b.id!==a))},[]),h=(0,e.useCallback)(a=>{let b=Math.random().toString(36).substr(2,9),d={...a,id:b,duration:a.duration||5e3};c(a=>[...a,d]),setTimeout(()=>{f(b)},d.duration)},[f]);return(0,d.jsxs)(g.Provider,{value:{toasts:b,showToast:h,removeToast:f},children:[a,(0,d.jsx)(i,{toasts:b,onRemove:f})]})}function i({toasts:a,onRemove:b}){return(0,d.jsx)("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-50 space-y-2 w-full max-w-sm px-4 pointer-events-none safe-area-inset-top",children:a.map(a=>(0,d.jsx)(j,{toast:a,onRemove:b},a.id))})}function j({toast:a,onRemove:b}){let[c,f]=(0,e.useState)(!1);return(0,d.jsx)("div",{className:`pointer-events-auto transform transition-all duration-300 ease-in-out ${c?"translate-y-0 opacity-100":"-translate-y-full opacity-0"} ${{success:"bg-green-50 border-green-200 text-green-800",error:"bg-red-50 border-red-200 text-red-800",warning:"bg-yellow-50 border-yellow-200 text-yellow-800",info:"bg-blue-50 border-blue-200 text-blue-800"}[a.type]} border rounded-lg shadow-lg p-4 mb-2 w-full`,children:(0,d.jsxs)("div",{className:"flex items-start",children:[(0,d.jsx)("div",{className:"flex-shrink-0 text-lg mr-3",children:{success:"✓",error:"✕",warning:"⚠",info:"ℹ"}[a.type]}),(0,d.jsxs)("div",{className:"flex-1",children:[a.title&&(0,d.jsx)("h4",{className:"font-medium text-sm mb-1",children:a.title}),(0,d.jsx)("p",{className:"text-sm",children:a.message})]}),(0,d.jsxs)("button",{onClick:()=>{f(!1),setTimeout(()=>b(a.id),300)},className:"flex-shrink-0 ml-2 text-gray-400 hover:text-gray-600 transition-colors",children:[(0,d.jsx)("span",{className:"sr-only",children:"Close"}),(0,d.jsx)("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:(0,d.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})]})]})})}function k(){let{showToast:a}=function(){let a=f().useContext(g);if(void 0===a)throw Error("useToast must be used within a ToastProvider");return a}();return{showAuthError:(0,e.useCallback)((b,c)=>{a({type:"error",title:c||"Authentication Error",message:b,duration:6e3})},[a]),showAuthSuccess:(0,e.useCallback)((b,c)=>{a({type:"success",title:c||"Success",message:b,duration:4e3})},[a])}}},82849:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,48365,23)),Promise.resolve().then(c.t.bind(c,64596,23)),Promise.resolve().then(c.t.bind(c,56186,23)),Promise.resolve().then(c.t.bind(c,67805,23)),Promise.resolve().then(c.t.bind(c,27561,23)),Promise.resolve().then(c.t.bind(c,47569,23)),Promise.resolve().then(c.t.bind(c,42747,23)),Promise.resolve().then(c.t.bind(c,56676,23)),Promise.resolve().then(c.bind(c,97225))},91969:(a,b,c)=>{"use strict";c.d(b,{Providers:()=>f});var d=c(78157),e=c(16422);function f({children:a,session:b}){return(0,d.jsx)(e.SessionProvider,{session:b,children:a})}},92235:(a,b,c)=>{"use strict";c.d(b,{Providers:()=>d});let d=(0,c(25459).registerClientReference)(function(){throw Error("Attempted to call Providers() from the server but Providers is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\code\\iayos\\apps\\frontend_web\\app\\providers.tsx","Providers")}};