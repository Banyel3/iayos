(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4595],{826:(e,t,r)=>{"use strict";r.d(t,{cn:()=>n});var a=r(2902),s=r(3714);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.QP)((0,a.$)(t))}},2682:(e,t,r)=>{"use strict";r.d(t,{$:()=>o});var a=r(4568);r(7620);var s=r(7398),n=r(4616),i=r(826);let l=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-neutral-950 focus-visible:ring-neutral-950/50 focus-visible:ring-[3px] aria-invalid:ring-red-500/20 dark:aria-invalid:ring-red-500/40 aria-invalid:border-red-500 dark:focus-visible:border-neutral-300 dark:focus-visible:ring-neutral-300/50 dark:aria-invalid:ring-red-900/20 dark:dark:aria-invalid:ring-red-900/40 dark:aria-invalid:border-red-900",{variants:{variant:{default:"bg-neutral-900 text-neutral-50 shadow-xs hover:bg-neutral-900/90 dark:bg-neutral-50 dark:text-neutral-900 dark:hover:bg-neutral-50/90",destructive:"bg-red-500 text-white shadow-xs hover:bg-red-500/90 focus-visible:ring-red-500/20 dark:focus-visible:ring-red-500/40 dark:bg-red-500/60 dark:bg-red-900 dark:hover:bg-red-900/90 dark:focus-visible:ring-red-900/20 dark:dark:focus-visible:ring-red-900/40 dark:dark:bg-red-900/60",outline:"border bg-white shadow-xs hover:bg-neutral-100 hover:text-neutral-900 dark:bg-neutral-200/30 dark:border-neutral-200 dark:hover:bg-neutral-200/50 dark:bg-neutral-950 dark:hover:bg-neutral-800 dark:hover:text-neutral-50 dark:dark:bg-neutral-800/30 dark:dark:border-neutral-800 dark:dark:hover:bg-neutral-800/50",secondary:"bg-neutral-100 text-neutral-900 shadow-xs hover:bg-neutral-100/80 dark:bg-neutral-800 dark:text-neutral-50 dark:hover:bg-neutral-800/80",ghost:"hover:bg-neutral-100 hover:text-neutral-900 dark:hover:bg-neutral-100/50 dark:hover:bg-neutral-800 dark:hover:text-neutral-50 dark:dark:hover:bg-neutral-800/50",link:"text-neutral-900 underline-offset-4 hover:underline dark:text-neutral-50"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function o(e){let{className:t,variant:r,size:n,asChild:o=!1,...d}=e,c=o?s.DX:"button";return(0,a.jsx)(c,{"data-slot":"button",className:(0,i.cn)(l({variant:r,size:n,className:t})),...d})}},2779:(e,t,r)=>{"use strict";r.d(t,{p:()=>n});var a=r(4568);r(7620);var s=r(826);function n(e){let{className:t,type:r,...n}=e;return(0,a.jsx)("input",{type:r,"data-slot":"input",className:(0,s.cn)("flex h-11 w-full rounded-lg border border-gray-200 bg-white px-3 py-2 text-sm font-inter","placeholder:text-gray-400 text-gray-900","transition-all duration-200 ease-in-out","shadow-sm","focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500","focus:shadow-lg focus:shadow-blue-500/10","aria-invalid:border-red-500 aria-invalid:ring-2 aria-invalid:ring-red-500/20","aria-invalid:focus:border-red-500 aria-invalid:focus:ring-red-500/20","disabled:opacity-50 disabled:cursor-not-allowed disabled:bg-gray-50","file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-gray-700",t),...n})}},2953:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>g});var a=r(4568),s=r(7620),n=r(2935),i=r(3631),l=r(4161),o=r(2682),d=r(9664),c=r.n(d),m=r(9839),u=r(2779),x=r(7541);let h=l.Ikc({businessName:l.YjP().min(2,"Business name must be at least 2 characters").max(100,"Business name must be less than 100 characters"),email:l.YjP().email("Invalid email address"),password:l.YjP().min(8,"Password must be at least 8 characters").regex(/[A-Z]/,"Password must contain at least one uppercase letter").regex(/[0-9]/,"Password must contain at least one number").regex(/[^A-Za-z0-9]/,"Password must contain at least one special character")}),g=()=>{(0,x.useRouter)();let e=(0,i.mN)({resolver:(0,n.u)(h),defaultValues:{businessName:"",email:"",password:""}}),[t,r]=(0,s.useState)(""),[l,d]=(0,s.useState)(!1),[g,f]=(0,s.useState)(!1),[b,p]=(0,s.useState)(0),[v,j]=(0,s.useState)(!1),[y,N]=(0,s.useState)(""),w=async()=>{try{let e=await fetch("/api/auth/check-rate-limit"),t=await e.json();if(t.isRateLimited){f(!0),p(t.remainingTime);let e=Date.now()+1e3*t.remainingTime;localStorage.setItem("registerRateLimitEndTime",e.toString())}else f(!1),p(0),localStorage.removeItem("registerRateLimitEndTime")}catch(e){console.error("Failed to check rate limit status:",e),k()}},k=()=>{let e=localStorage.getItem("registerRateLimitEndTime");if(e){let t=Math.max(0,Math.ceil((parseInt(e)-Date.now())/1e3));t>0?(f(!0),p(t)):(localStorage.removeItem("registerRateLimitEndTime"),f(!1),p(0))}};(0,s.useEffect)(()=>{w()},[]),(0,s.useEffect)(()=>{if(!g)return;let e=setInterval(()=>{p(e=>{let t=Math.max(0,e-1);return 0===t&&(f(!1),localStorage.removeItem("registerRateLimitEndTime"),w()),t})},1e3);return()=>clearInterval(e)},[g]);let S=async e=>{d(!0),r("");try{let t=await fetch("/api/auth/register/agency",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),a=await t.json();if(t.ok)localStorage.removeItem("registerRateLimitEndTime"),f(!1),p(0),j(!0),N(e.email);else if(429===t.status&&a.rateLimited){let e=a.remainingTime||300,t=Date.now()+1e3*e;localStorage.setItem("registerRateLimitEndTime",t.toString()),f(!0),p(e),r(a.error||"Too many registration attempts. Please wait before trying again.")}else r(a.error||"Registration failed")}catch(e){r("Something went wrong. Try again.")}finally{d(!1)}};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"hidden lg:block fixed top-0 left-0 right-0 z-50 bg-white border-b border-gray-200",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-6 py-4 flex justify-between items-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-gray-900",children:"iAyos"}),(0,a.jsx)(c(),{href:"/auth/register",className:"px-4 py-2 text-sm font-medium text-blue-600 hover:text-blue-700 hover:bg-blue-50 rounded-lg transition-colors",children:"Freelancer Registration"})]})}),(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)("div",{className:"lg:hidden flex justify-center items-center min-h-screen p-4",children:(0,a.jsxs)("div",{className:"w-full max-w-sm bg-white rounded-2xl shadow-xl p-8 text-center",children:[(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsx)("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)("svg",{className:"w-8 h-8 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),(0,a.jsx)("h1",{className:"font-inter text-xl font-semibold text-gray-900 mb-2",children:"Desktop Required"}),(0,a.jsx)("p",{className:"font-inter text-sm text-gray-600 mb-6",children:"Agency registration is only available on desktop devices for the best experience."}),(0,a.jsx)("p",{className:"font-inter text-xs text-gray-500 mb-6",children:"Please switch to a desktop or laptop computer to register your agency."})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)(c(),{href:"/auth/register",className:"block w-full px-4 py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition-colors",children:"Freelancer Registration"}),(0,a.jsx)(c(),{href:"/auth/login",className:"block w-full px-4 py-3 border border-gray-300 text-gray-700 font-medium rounded-lg hover:bg-gray-50 transition-colors",children:"Sign In Instead"})]})]})}),(0,a.jsxs)("div",{className:"hidden lg:flex min-h-screen pt-20",children:[(0,a.jsx)("div",{className:"lg:w-1/2 bg-gradient-to-br from-blue-600 to-purple-700 flex items-center justify-center p-8",children:(0,a.jsxs)("div",{className:"max-w-md text-center text-white",children:[(0,a.jsx)("h1",{className:"text-4xl font-bold mb-4",children:"Find Contracts for Your Agency"}),(0,a.jsx)("p",{className:"text-xl mb-8 opacity-90",children:"Connect your agency with clients seeking professional services"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-6 h-6 bg-white bg-opacity-20 rounded-full flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-sm",children:"✓"})}),(0,a.jsx)("span",{children:"Access to diverse contract opportunities"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-6 h-6 bg-white bg-opacity-20 rounded-full flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-sm",children:"✓"})}),(0,a.jsx)("span",{children:"Showcase your agency's capabilities"})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsx)("div",{className:"w-6 h-6 bg-white bg-opacity-20 rounded-full flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-sm",children:"✓"})}),(0,a.jsx)("span",{children:"Secure project management tools"})]})]})]})}),(0,a.jsx)("div",{className:"lg:w-1/2 flex items-center justify-center p-8",children:(0,a.jsxs)("div",{className:"w-full max-w-md",children:[(0,a.jsxs)("div",{className:"text-center mb-8",children:[(0,a.jsx)("h2",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Register Your Agency"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Find contract opportunities for your agency on iAyos"})]}),v?(0,a.jsxs)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6 text-center",children:[(0,a.jsx)("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,a.jsx)("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,a.jsx)("h3",{className:"text-lg font-semibold text-green-800 mb-2",children:"Agency Registration Successful!"}),(0,a.jsxs)("p",{className:"text-green-700 mb-4",children:["We've sent a verification email to"," ",(0,a.jsx)("strong",{children:y})]}),(0,a.jsx)("p",{className:"text-green-600 text-sm mb-6",children:"Please check your email and click the verification link to activate your agency account."}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)(c(),{href:"/auth/login",className:"block w-full px-4 py-3 bg-green-600 text-white font-medium rounded-lg hover:bg-green-700 transition-colors",children:"Go to Login"}),(0,a.jsx)("button",{onClick:()=>{j(!1),N(""),e.reset()},className:"block w-full px-4 py-3 border border-gray-300 text-gray-700 font-medium rounded-lg hover:bg-gray-50 transition-colors",children:"Register Another Agency"})]})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(m.lV,{...e,children:(0,a.jsxs)("form",{onSubmit:e.handleSubmit(S),className:"space-y-6",children:[(0,a.jsx)(m.zB,{control:e.control,name:"businessName",render:e=>{let{field:t}=e;return(0,a.jsxs)(m.eI,{children:[(0,a.jsxs)(m.lR,{className:"font-inter text-sm font-medium text-gray-700",children:["Business Name",(0,a.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),(0,a.jsx)(m.MJ,{children:(0,a.jsx)(u.p,{placeholder:"Enter your business name",className:"h-12",...t})}),(0,a.jsx)(m.C5,{className:"font-inter text-xs text-red-500"})]})}}),(0,a.jsx)(m.zB,{control:e.control,name:"email",render:e=>{let{field:t}=e;return(0,a.jsxs)(m.eI,{children:[(0,a.jsxs)(m.lR,{className:"font-inter text-sm font-medium text-gray-700",children:["Business Email",(0,a.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),(0,a.jsx)(m.MJ,{children:(0,a.jsx)(u.p,{placeholder:"Enter your business email",className:"h-12",...t})}),(0,a.jsx)(m.C5,{className:"font-inter text-xs text-red-500"})]})}}),(0,a.jsx)(m.zB,{control:e.control,name:"password",render:e=>{let{field:t}=e;return(0,a.jsxs)(m.eI,{children:[(0,a.jsxs)(m.lR,{className:"font-inter text-sm font-medium text-gray-700",children:["Password",(0,a.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),(0,a.jsx)(m.MJ,{children:(0,a.jsx)(u.p,{type:"password",placeholder:"Create a strong password",className:"h-12",...t})}),(0,a.jsx)(m.C5,{className:"font-inter text-xs text-red-500"})]})}}),t&&(0,a.jsx)("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:(0,a.jsx)("p",{className:"text-red-600 text-sm",children:t})}),(0,a.jsx)(o.$,{type:"submit",className:"w-full h-12 font-inter font-medium text-base",disabled:l||g,children:g?"Wait ".concat(Math.floor(b/60),":").concat((b%60).toString().padStart(2,"0")," before trying again"):l?(0,a.jsxs)("span",{className:"flex items-center justify-center",children:[(0,a.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,a.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,a.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating Agency Account..."]}):"Register Agency"})]})}),(0,a.jsx)("div",{className:"mt-6 text-center",children:(0,a.jsxs)("p",{className:"text-sm font-inter text-gray-600",children:["Already have an account?"," ",(0,a.jsx)(c(),{href:"/auth/login",className:"text-blue-600 hover:text-blue-700 font-medium transition-colors",children:"Sign in here"})]})}),(0,a.jsx)("div",{className:"mt-2 text-center",children:(0,a.jsxs)("p",{className:"text-sm font-inter text-gray-600",children:["Looking for freelancer registration?"," ",(0,a.jsx)(c(),{href:"/auth/register",className:"text-blue-600 hover:text-blue-700 font-medium transition-colors",children:"Register here"})]})})]})]})})]})]})]})}},4603:(e,t,r)=>{Promise.resolve().then(r.bind(r,2953))},9839:(e,t,r)=>{"use strict";r.d(t,{lV:()=>c,MJ:()=>b,zB:()=>u,eI:()=>g,lR:()=>f,C5:()=>p});var a=r(4568),s=r(7620),n=r(7398),i=r(3631),l=r(826),o=r(555);function d(e){let{className:t,...r}=e;return(0,a.jsx)(o.b,{"data-slot":"label",className:(0,l.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...r})}let c=i.Op,m=s.createContext({}),u=e=>{let{...t}=e;return(0,a.jsx)(m.Provider,{value:{name:t.name},children:(0,a.jsx)(i.xI,{...t})})},x=()=>{let e=s.useContext(m),t=s.useContext(h),{getFieldState:r}=(0,i.xW)(),a=(0,i.lN)({name:e.name}),n=r(e.name,a);if(!e)throw Error("useFormField should be used within <FormField>");let{id:l}=t;return{id:l,name:e.name,formItemId:"".concat(l,"-form-item"),formDescriptionId:"".concat(l,"-form-item-description"),formMessageId:"".concat(l,"-form-item-message"),...n}},h=s.createContext({});function g(e){let{className:t,...r}=e,n=s.useId();return(0,a.jsx)(h.Provider,{value:{id:n},children:(0,a.jsx)("div",{"data-slot":"form-item",className:(0,l.cn)("grid gap-2",t),...r})})}function f(e){let{className:t,...r}=e,{error:s,formItemId:n}=x();return(0,a.jsx)(d,{"data-slot":"form-label","data-error":!!s,className:(0,l.cn)("data-[error=true]:text-red-500 dark:data-[error=true]:text-red-900",t),htmlFor:n,...r})}function b(e){let{...t}=e,{error:r,formItemId:s,formDescriptionId:i,formMessageId:l}=x();return(0,a.jsx)(n.DX,{"data-slot":"form-control",id:s,"aria-describedby":r?"".concat(i," ").concat(l):"".concat(i),"aria-invalid":!!r,...t})}function p(e){var t;let{className:r,...s}=e,{error:n,formMessageId:i}=x(),o=n?String(null!=(t=null==n?void 0:n.message)?t:""):s.children;return o?(0,a.jsx)("p",{"data-slot":"form-message",id:i,className:(0,l.cn)("text-red-500 text-sm dark:text-red-900",r),...s,children:o}):null}}},e=>{e.O(0,[8835,9664,745,587,18,7358],()=>e(e.s=4603)),_N_E=e.O()}]);