# Test: Login with Invalid Credentials
# Verifies that invalid credentials show appropriate error

appId: com.iayos.app
tags:
  - auth
  - login
  - error

---

# Launch app fresh
- launchApp:
    clearState: true

# Navigate to login screen
- waitForAnimationToEnd
- tapOn:
    id: "welcome-login-button"

# Wait for login screen
- waitForAnimationToEnd
- assertVisible:
    id: "login-screen"

# Enter invalid credentials
- tapOn:
    id: "login-email-input"
- inputText: "invalid@test.com"

- tapOn:
    id: "login-password-input"
- inputText: "wrongpassword123"

# Hide keyboard
- hideKeyboard

# Submit login
- tapOn:
    id: "login-submit-button"

# Wait for response
- waitForAnimationToEnd
- extendedWaitUntil:
    visible:
      text: "/.*error.*|.*invalid.*|.*failed.*|.*incorrect.*/"
    timeout: 10000

# Take screenshot of error state
- takeScreenshot: "login_invalid_credentials"
