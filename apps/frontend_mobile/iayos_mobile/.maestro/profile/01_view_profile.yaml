# ══════════════════════════════════════════════════════════════════════════════
# TEST: View Profile
# ══════════════════════════════════════════════════════════════════════════════
# Verifies users can view their profile information
# Prerequisites: Logged in
# ══════════════════════════════════════════════════════════════════════════════

appId: com.devante.iayos
tags:
  - profile
  - view
  - smoke

---

# ─────────────────────────────────────────────────────────────────────────────
# SETUP: Login as Worker
# ─────────────────────────────────────────────────────────────────────────────
- launchApp:
    clearState: true

- waitForAnimationToEnd

- tapOn:
    id: "welcome-login-button"
    optional: true

- waitForAnimationToEnd

- tapOn:
    id: "login-email-input"
- inputText: ${WORKER_EMAIL}
- hideKeyboard

- tapOn:
    id: "login-password-input"
- inputText: ${WORKER_PASSWORD}
- hideKeyboard

- tapOn:
    id: "login-submit-button"

- waitForAnimationToEnd:
    timeout: 10000

# ─────────────────────────────────────────────────────────────────────────────
# TEST: Navigate to Profile Tab
# ─────────────────────────────────────────────────────────────────────────────
- tapOn:
    text: "Profile"
    optional: true
- waitForAnimationToEnd

# ─────────────────────────────────────────────────────────────────────────────
# TEST: Verify Profile Header
# ─────────────────────────────────────────────────────────────────────────────
- assertVisible:
    text: "Profile"
    optional: true
    timeout: 10000

# Should show user info
- assertVisible:
    text: "@"
    optional: true

- takeScreenshot: "01_profile_header"

# ─────────────────────────────────────────────────────────────────────────────
# TEST: Verify Profile Stats (Worker)
# ─────────────────────────────────────────────────────────────────────────────
- assertVisible:
    text: "Jobs"
    optional: true

- takeScreenshot: "02_profile_stats"

# ─────────────────────────────────────────────────────────────────────────────
# TEST: Scroll to View More Sections
# ─────────────────────────────────────────────────────────────────────────────
- scroll:
    direction: DOWN

- waitForAnimationToEnd

# Look for profile sections
- assertVisible:
    text: "Skills"
    optional: true

- takeScreenshot: "03_profile_sections"

# ─────────────────────────────────────────────────────────────────────────────
# TEST: Scroll to Settings Section
# ─────────────────────────────────────────────────────────────────────────────
- scroll:
    direction: DOWN

- waitForAnimationToEnd

# Look for settings/account options
- assertVisible:
    text: "Settings"
    optional: true

- takeScreenshot: "04_settings_section"

# ─────────────────────────────────────────────────────────────────────────────
# TEST: View Full Profile (if link exists)
# ─────────────────────────────────────────────────────────────────────────────
- tapOn:
    text: "View Full Profile"
    optional: true

- waitForAnimationToEnd

- takeScreenshot: "05_full_profile"
